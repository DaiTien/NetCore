
<link rel="stylesheet" href="~/css/GameBongHoaMuonMau.css">
<div class="error_MediaLess768">
        <div class="alert_MediaLess768">
            <div class="alert_ImageVietNhat">
                <img src="../../../../images/logovn-2295.png" />
            </div>
            <div class="alert_Content">
                <p>Hiện tại game chỉ hổ trợ cho các phiên bản tablet trở lên!</p>
                <p>Mong quý phụ huynh thông cảm cho sự bất tiện này!</p>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <a id="btnBack" class="btn btn-success" href="#">Quay Lại</a>
        <a id="btnChoilai" class="btn btn-success" href="/game/bonghoamuonmau">Chơi lại</a>
        <a id="btnHuongdan" onclick="audioHuongDan()" class="btn btn-danger" href="javascript:void(0)">Hướng Dẫn</a>
        <a id="btnOpenaudio" onclick="MuteAudiO()" title="Tắt/Mở nhạc nền" href="javascript:void(0)"><i class="fas fa-music"></i></a>
        <a id="btnMuteaudio" onclick="OpenAudiO()" title="Tắt/Mở nhạc nền" style="display: none" href="javascript:void(0)"><i class="fas fa-volume-mute"></i></a>
        <h1 class="title">Trò chơi: <b>Bông Hoa Muôn Màu</b></h1>
        <p id="btnChau1" class="btn btn-danger">Chậu hoa số 1</p>
        <p id="btnChau2" class="btn btn-danger">Chậu hoa số 2</p>
        <div class="hoa1">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa1.png" />
            <a id="hoa1" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">1</a>
        </div>
        <div class="hoa2">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa2.png" />
            <a id="hoa2" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">2</a>
        </div>
        <div class="hoa3">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa3.png" />
            <a id="hoa3" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">3</a>
        </div>
        <div class="hoa4">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa4.png" />
            <a id="hoa4" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">4</a>
        </div>
        <div class="hoa1_1">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa1.png" />
            <a id="hoa5" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">5</a>
        </div>
        <div class="hoa2_1">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa2.png" />
            <a id="hoa6" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">6</a>
        </div>
        <div class="hoa3_1">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa3.png" />
            <a id="hoa7" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">7</a>
        </div>
        <div class="hoa4_1">
            <img src="~/assets/images/GameBongHoaMuonMau/hoa4.png" />
            <a id="hoa8" name="bonghoa" href="javascript:void(0)" onclick="getQuestion(this.id)" class="btn bonghoa style1">8</a>
        </div>
        @* <%--Khung hiển thị câu hỏi và input nhập câu trả lời--%> *@
        <div id="contentQuestion" style="display: none" class="content-question">
            <p id="txtQuestion"></p>
            <p id="txtAnws">
                Đáp án:
                <input id="txtdapann" type="text" name="name" placeholder="?" value="" autocomplete="off" onkeypress="return isNumberKey(event)" />
            </p>
            <a id="btnTraLoi" href="javascript:void(0)" onclick="btnTraLoi()" class="btn btn-primary mt-2">Trả lời</a>
        </div>
        <input style="display:none" id="txtDapan" type="text" name="name" value="" />
        <input hidden="hidden" id="txtIdHoa" type="text" name="name" value="" />
    </div>
    <div hidden="hidden">
        <audio id="audioNhacNen" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/NhacNenThieuNhi.mp3" controls="controls" />
        <audio id="audioClick" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/tichtich.mp3" controls="controls" />
        <audio id="audioTraloisai" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/traloisai.mp3" controls="controls" />
        <audio id="audioTraloidung" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/tick.mp3" controls="controls" />
        <audio id="audioSoliensau" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/GameBongHoaMuonMau/soliensau.mp3" controls="controls" />
        <audio id="audioSolientruoc" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/GameBongHoaMuonMau/solientruoc.mp3" controls="controls" />
        <audio id="audioAmthanhdiendapan" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/GameVongQuayMayMan/amthanhdiendapan.mp3" controls="controls" />
        <audio id="audioHuongdan" src="web_module/module_BaiTap/Lop1/musics/musicsVietNhat/GameBongHoaMuonMau/huongdan.mp3" controls="controls" />
    </div>

    <script>
        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }
        //Function load nhạc nền
        window.onload = function () {
            var audio = document.getElementById("audioNhacNen");
            audio.volume = 0.025;
            audio.play();
        }
        //Tắt mở nhạc nền
        function MuteAudiO() {
            var audio = document.getElementById("audioNhacNen");
            audio.pause();
            document.getElementById("btnOpenaudio").style.display = "none";
            document.getElementById("btnMuteaudio").style.display = "block";
        } function OpenAudiO() {
            var audio = document.getElementById("audioNhacNen");
            audio.play();
            document.getElementById("btnOpenaudio").style.display = "block";
            document.getElementById("btnMuteaudio").style.display = "none";
        }
        //
        //function chauso1() {
        //    document.getElementById("btnChau1").innerHTML = "Số liền trước";
        //    document.getElementById("audioSoliensau").pause();
        //    var audio = document.getElementById("audioSolientruoc");
        //    audio.load();
        //    audio.volume = 0.2;
        //    audio.play();
        //}
        //function chauso2() {
        //    document.getElementById("btnChau2").innerHTML = "Số liền sau";
        //    document.getElementById("audioSolientruoc").pause();
        //    var audio = document.getElementById("audioSoliensau");
        //    audio.load();
        //    audio.volume = 0.2;
        //    audio.play();
        //}
        //Function audio hướng dẫn
        function audioHuongDan() {
            document.getElementById("audioClick").pause();
            document.getElementById("audioTraloisai").pause();
            document.getElementById("audioTraloidung").pause();
            var audio = document.getElementById("audioHuongdan");
            audio.load();
            audio.volume = 0.3;
            audio.play();
        }
        var arrayIdHoa = [];
        var random, result1, answer1;
        var random2, result2, answer2;
        var ArrayQuestion1 = ['Số liền trước số 8 là số nào?', 'Số liền sau số 10 là số nào?', 'Số liền trước số 5 là số nào?', 'Số liền sau số 15 là số nào ?', 'Số liền sau số 18 là số nào?', 'Số liền trước số 7 là số nào?', 'Số liền sau số 11 là số nào?', 'Số liền trước số 10 là số nào?', 'Số liền sau số 12 là số nào ?', 'Số liền trước số 19 là số nào?'];
        var Ans1 = ['7', '11', '4', '16', '19', '6', '12', '9', '13', '18'];
        //Function random Câu hỏi
        function randomQuestion1() {
            random = Math.floor(Math.random() * ArrayQuestion1.length);
            result1 = ArrayQuestion1[random];
            answer1 = Ans1[random];
            //ArrayQuestion1 = ArrayQuestion1.filter(item => item !== ArrayQuestion1[random]);
            //Ans1 = Ans1.filter(item => item !== Ans1[random]);
            ArrayQuestion1.splice(random, 1);
            Ans1.splice(random, 1);
        }
        //Function lấy và hiển thị câu hỏi số liền trước
        function getQuestion(id) {
            document.getElementById("txtdapann").value = "";
            randomQuestion1();
            //Hiển thị popup Câu hỏi
            document.getElementById("contentQuestion").style.display = "block";
            document.getElementById("txtQuestion").innerHTML = result1;
            document.getElementById("txtDapan").value = answer1;
            //Lưu lại những Id bông hoa đã click;
            //document.getElementById("txtIdHoa").value = id;
            var newLength = arrayIdHoa.push(id);
            //Audio
            var click = document.getElementById("audioClick");
            click.load();
            click.volume = 0.1;
            click.play();
            //Sau khi click chọn thì ẩn các số còn lại tránh click câu khác
            document.getElementById("hoa1").style.display = "none";
            document.getElementById("hoa2").style.display = "none";
            document.getElementById("hoa3").style.display = "none";
            document.getElementById("hoa4").style.display = "none";
            document.getElementById("hoa5").style.display = "none";
            document.getElementById("hoa6").style.display = "none";
            document.getElementById("hoa7").style.display = "none";
            document.getElementById("hoa8").style.display = "none";
        }
        //Function trả lời câu hỏi
        function btnTraLoi() {
            var traloi = document.getElementById("txtdapann").value;
            if (traloi == "") {
                var audio = document.getElementById("audioAmthanhdiendapan");
                audio.load();
                audio.volume = 0.2;
                audio.play();
                //swal('Bạn chưa điền đáp án!!', '', 'warning');
            }
            else {
                var dapan = document.getElementById("txtDapan").value;
                if (traloi == dapan) {
                    swal('Bạn đã trả lời đúng!!', '', 'success');
                    var audio = document.getElementById("audioTraloidung");
                    audio.load();
                    audio.volume = 0.1;
                    audio.play();
                    document.getElementById("contentQuestion").style.display = "none";
                } else {
                    swal('Bạn đã trả lời sai!', 'Đáp án là ' + dapan, 'error');
                    var audio = document.getElementById("audioTraloisai");
                    audio.load();
                    audio.volume = 0.1;
                    audio.play();
                    document.getElementById("contentQuestion").style.display = "none";
                }
                document.getElementById("txtDapan").value = "";
                document.getElementById("hoa1").style.display = "block";
                document.getElementById("hoa2").style.display = "block";
                document.getElementById("hoa3").style.display = "block";
                document.getElementById("hoa4").style.display = "block";
                document.getElementById("hoa5").style.display = "block";
                document.getElementById("hoa6").style.display = "block";
                document.getElementById("hoa7").style.display = "block";
                document.getElementById("hoa8").style.display = "block";
                //Ẩn những bông hoa đã trả lời
                arrayIdHoa.forEach(function (item, index) {
                    document.getElementById(item).style.display = "none";
                });
                //var idd = document.getElementById("txtIdHoa").value;
                //document.getElementById(idd).style.display = "none";
            }
        }
    </script>